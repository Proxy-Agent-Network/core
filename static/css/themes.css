/* ðŸŽ¨ THEME ENGINE */
:root { 
    --h1-size: 1.5rem; --panel-h2-size: 1.1rem; --pill-font-size: 0.8rem; 
    --xp-text: var(--text); --xp-bar-empty: rgba(0,0,0,0.1); --xp-glow: rgba(255,255,255,0.6);
    --bonus-color: #ffd700; --secret-color: #0f0; 
    --ledger-font: 0.85rem; --ledger-nested-font: 0.7rem;
    --ledger-nested-margin: -10px;
}
            
/* ðŸ‘” BUSINESS */
[data-theme="business"] { 
    --bg: #f4f7f6; --card-bg: #fff; --text: #2c3e50; --accent: #2980b9; --border: #dcdde1; --font: 'Inter', sans-serif; 
    --bonus-color: #b8860b; --secret-color: #006400; 
}

/* ðŸ‘¾ RETRO ARCADE */
[data-theme="retro"] { 
    color-scheme: dark; 
    --bg: #2b033d; --card-bg: #4c066b; --text: #00ffff; --accent: #ff00ff; --border: #ff00ff; --font: 'Press Start 2P', cursive; 
    --h1-size: 1.1rem; --panel-h2-size: 0.95rem; --pill-font-size: 0.55rem; --xp-text: #2b033d; 
    --ledger-font: 0.55rem;       
    --ledger-nested-font: 0.45rem; 
    --ledger-nested-margin: -6px; 
}

/* ðŸ“œ PAPERBACK */
[data-theme="paperback"] { 
    color-scheme: light;
    --bg: #f5e6d3; --card-bg: #fff; --text: #3b3b3b; --accent: #2c3e50; --border: #bca08d; --font: 'Special Elite', cursive; 
    --xp-text: #ffffff; --xp-bar-empty: #8d6e63; --xp-glow: transparent; 
    --bonus-color: #a0522d; --secret-color: #2e8b57; 
}

/* ðŸ¦¾ CYBERPUNK */
[data-theme="cyberpunk"] { color-scheme: dark; --bg: #000; --card-bg: #111; --text: #fee715; --accent: #ea00d9; --border: #fee715; --font: 'Orbitron', sans-serif; --xp-text: #ffffff; --xp-glow: #ea00d9; }

/* ðŸŒŠ DEEP SEA */
[data-theme="deepsea"] { color-scheme: dark; --bg: #001219; --card-bg: #005f73; --text: #94d2bd; --accent: #ee9b00; --border: #0a9396; --font: 'Montserrat', sans-serif; --xp-text: #001219; }

/* ðŸ§› VAMPIRE */
[data-theme="vampire"] { color-scheme: dark; --bg: #1a0000; --card-bg: #2a0000; --text: #8b0000; --accent: #ffd700; --border: #4a0000; --font: 'UnifrakturMaguntia', serif; --xp-text: #4a0000; --h1-size: 2.2rem; }

/* ðŸ•º GROOVY (Hippie VW MiniBus Edition) */
[data-theme="groovy"] { 
    --bg: #b2ebf2;          /* ðŸšŒ Retro Teal / Soft Cyan */
    --card-bg: #ffffff;     /* Crisp White Panels */
    --text: #512da8;        /* Lava Lamp Deep Purple (High Contrast) */
    --accent: #fbc02d;      /* Marigold Yellow (Buttons & Progress) */
    --border: #ff8a65;      /* Terracotta Orange (Vintage Trim) */
    --font: 'Shrikhand', cursive; 
    --xp-text: #512da8;     /* Purple text on Marigold bar */
    --bonus-color: #e64a19; /* Deep Sunset Orange */
    --secret-color: #00796b; /* Earthy Forest Green */
}

/* ðŸŽ¯ Theme-Specific Overrides */
[data-theme="retro"] #node-list, [data-theme="retro"] li { font-size: var(--pill-font-size) !important; line-height: 1.6; }
[data-theme="retro"] #level-info, [data-theme="retro"] #rank-name { font-size: 0.8rem !important; }

/* ðŸŽ¯ FIX: Disable XP text glow for high-contrast clarity themes */
[data-theme="paperback"] .xp-text, 
[data-theme="cyberpunk"] .xp-text,
[data-theme="groovy"] .xp-text { text-shadow: none !important; }