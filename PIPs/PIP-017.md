# PIP-017: Lightning HODL Invoice Settlement Logic

| PIP Number | 017 |
| :--- | :--- |
| **Title** | Lightning HODL Invoice Settlement Logic |
| **Author** | Proxy Protocol Foundation |
| **Status** | Draft / Technical Review |
| **Type** | Standards Track |
| **Created** | 2026-02-12 |

## 1. Abstract
This proposal codifies the trustless payment mechanism for Proxy Protocol. It replaces immediate payments with **HODL Invoices**, where the settlement is contingent upon the revelation of a cryptographic preimage generated by successful hardware attestation.

## 2. Technical Specifications
* **Payment Layer:** Lightning Network (LND/CLN).
* **Invoice State:** `HELD` until task verification.
* **Settlement Trigger:** The preimage is released to the Node only when the **PIP-015 compliant** hardware report is matched against the Task ID.
* **Timeout:** If the node fails to provide a valid TPM-signed result within the task window, the invoice is canceled and funds are returned to the Agent.

## 3. Economic Impact
This prevents "Exit Scams" by human nodes, as payment is programmatically locked until the physical layer proves completion.
